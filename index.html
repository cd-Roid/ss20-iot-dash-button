<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IoT 2020 - Dash Button</title>
    <link rel="stylesheet" href="./styles/main.css" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://th-koeln.github.io/mi-bachelor-webdevelopment/mi-lib/assets/images/favicon.ico"
    />
  </head>
  <body>
    <header class="head">
      <h3 class="head__logo">IoT 2020 - Dash Button</h3>
      <nav class="head__nav">
        <ul class="head__nav-list">
          <li class="head__nav-item">
            <a class="head__nav-link" href="#info">Info</a>
          </li>
          <li class="head__nav-item">
            <a class="head__nav-link" href="#features">Features</a>
          </li>
          <li class="head__nav-item">
            <a class="head__nav-link" href="#demo">Demo</a>
          </li>
          <li class="head__nav-item">
            <a class="head__nav-link" href="#hardware">Hardware</a>
          </li>
          <li class="head__nav-item">
            <a class="head__nav-link" href="#software">Software</a>
          </li>
          <li class="head__nav-item">
            <a class="head__nav-link" href="#install">Installation</a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <figure class="hero">
        <img class="hero__image" src="./img/hero.jpg" />
        <figcaption class="hero__caption">
          <h1 class="hero__headline">
            IoT 2020 <br />
            Dash Button
          </h1>
        </figcaption>
      </figure>
      <section id="info" class="section">
        <article>
          <h2>Informationen</h2>
          <p>
            Das Projekt "Dash Button", bzw. "Service Button", entstand im
            Sommersemester 2020 im Rahmen des Moduls IoT (Internet of Things) an
            der
            <a href="https://www.th-koeln.de/" target="_blank">TH Köln</a> im
            Studiengang
            <a href="https://www.medieninformatik.th-koeln.de/" traget="_blank"
              >Medieninformatik</a
            >.
          </p>
          <h3>Szenario</h3>
          <p>
            In vielen Unternehmen, welche sich als "Smart" bezeichnen, sei es
            die "Smart Factory" oder der "Smart Retail", finden oft noch
            manuelle Eingriffe oder Interaktionen statt. Oft gibt es
            Arbeitsplätze, welche durch eine Digitaliserung profiteren würden,
            für welches es sich aber nicht Lohnt einen Computer oder ein
            Tablet/Smartphone anzuschaffen, da diese Geräte mit den
            auszuführenden Aktionen deutlich unterfordert wären.
          </p>
          <p>
            Dies könnten zum Beispiel Arbeitsplätze bei einem
            Automobilhersteller sein, welche auf Knopfdruck neue Montageteile
            ordern, oder ein Arbeitsplatz im Schichtbetrieb, bei welchem der
            Mitarbeiter regelmäßig Kontakt zu seinem Schichtleiter aufnehmen
            muss, um eine Frage zu stellen oder Ihm mitzuteilen, dass er mit
            seiner Aufgabe fertig ist.
          </p>
          <p>
            Diese Prozesse laufen heutzutage oft noch analog ab, sodass der
            Mitarbeiter im Schichtbetrieb beispielsweise 10 Minuten auf den
            Schichtleiter warten muss, anstatt das dieser direkt über das
            Anliegen seiner Mitarbeiters informiert wird.
          </p>
          <h3>Projektziel</h3>
          <p>
            Somit galt es solche analogen Prozesse mit Hilfe eines IoT-Devices
            zu digitaliseren. Der Projektgeber, die Deutsche Telekom, hat für
            dieses Vorhaben einen Service Button, ähnlich dem Amazon Dash
            Button, vorgeschlagen. Jedoch war, anders als bei dem Amazon Dash
            Button, eine zusätzliche bestätigung vorgesehen, um ein
            versehentliches Auslösen einer Aktion zu vermeiden.
          </p>
        </article>
      </section>

      <section id="features" class="section">
        <article class="article--two-halfs">
          <h2>Features</h2>
          <div class="comparison">
            <article>
              <figure class="comparison__hero">
                <img class="comparison__image" src="./img/Hardware.jpg" />
              </figure>
              <h3>Dash Button</h3>
              <ul class="feature-list">
                <li class="feature-list__item">Unterstützung von 2 Modes</li>
                <li class="feature-list__item">
                  OTA Setup von Mitarbeiter Nummer
                </li>
                <li class="feature-list__item">OTA Update für Mode</li>
                <li class="feature-list__item">
                  OTA Update für Produkt/Aktionsliste
                </li>
                <li class="feature-list__item">
                  Auswahl von Produkt/Aktion per Gestensteuerung
                </li>
                <li class="feature-list__item">
                  Wahl der Stückzahl per Encoder drehen
                </li>
                <li class="feature-list__item">
                  Bestellung/Aktionsaufruf per Buttonklick mit Bestätigung
                </li>
                <li class="feature-list__item">
                  Auto Deep Sleep für Akkubetrieb
                </li>
                <li class="feature-list__item">
                  Reset für Zuweisung neuer MitarbeiterID
                </li>
              </ul>
            </article>
            <article>
              <figure class="comparison__hero">
                <img class="comparison__image" src="./img/Dashboard.png" />
              </figure>
              <h3>Dashboard</h3>
              <ul class="feature-list">
                <li class="feature-list__item">
                  Wechsel zwischen Bestell- und Aktionsmodus
                </li>
                <li class="feature-list__item">
                  Übersicht aller Bestellungen/Aktionen
                </li>
                <li class="feature-list__item">
                  Bestellungen/Aktionen werden Mitarbeitern zugeordnet
                </li>
                <li class="feature-list__item">
                  Dismiss Bestellung/Aktion wenn erledigt
                </li>
                <li class="feature-list__item">
                  Verwalten von möglichen Produkten/Aktionen
                </li>
                <li class="feature-list__item">
                  Einrichten von neuen Geräten
                </li>
                <li class="feature-list__item">
                  Zuordnung von Mitarbeiter Nummer und Name zu Gerät
                </li>
              </ul>
            </article>
          </div>
        </article>
      </section>

      <section class="section" id="demo">
        <h2>Demo</h2>
        <iframe
          id="ytplayer"
          type="text/html"
          width="1200"
          height="675"
          src="https://www.youtube-nocookie.com/embed/T4lWkwNdf3w?&rel=0&modestbranding=1"
          frameborder="0"
          allowfullscreen
        ></iframe>
      </section>

      <section class="section" id="hardware">
        <h2>Hardware</h2>
        <figure class="section__hero">
          <img class="section__hero__image" src="./img/hero.jpg" />
        </figure>
        <ul class="feature-list">
          <li class="feature-list__item">
            <a
              href="https://www.espressif.com/en/products/socs/esp32/overview"
              target="_blank"
              >ESP32 Microcontroller</a
            >
          </li>
          <li class="feature-list__item">
            <a
              href="https://wiki.seeedstudio.com/Grove-LCD_RGB_Backlight/"
              target="_blank"
              >16x2 LCD RGB Backlight</a
            >
          </li>
          <li class="feature-list__item">
            <a href="https://wiki.seeedstudio.com/Grove-Button/" target="_blank"
              >Button</a
            >
          </li>
          <li class="feature-list__item">
            <a
              href="https://wiki.seeedstudio.com/Grove-Encoder/"
              target="_blank"
              >Rotary Encoder</a
            >
          </li>
          <li class="feature-list__item">
            <a
              href="https://wiki.seeedstudio.com/Grove-Gesture_v1.0/"
              target="_blank"
              >Gesture Sensor</a
            >
          </li>
          <li class="feature-list__item">
            <a
              href="https://wiki.seeedstudio.com/Grove-I2C_Hub/"
              target="_blank"
              >I2C Hub</a
            >
          </li>
        </ul>
      </section>
      <section id="software" class="section">
        <h2>Software</h2>
        <h3>Backend</h3>
        <ul class="software-list">
          <li class="card">
            <a href="https://nodejs.org/en/" target="_blank" class="link-clear">
              <div class="card__header">
                <h4 class="card__headline">Node.JS</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">Javascript Runtime für das Backend</p>
              </div></a
            >
          </li>
          <li class="card">
            <a
              href="https://expressjs.com/de/"
              target="_blank"
              class="link-clear"
            >
              <div class="card__header">
                <h4 class="card__headline">Express</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">Web-Framework für Node.JS</p>
              </div></a
            >
          </li>
          <li class="card">
            <a href="https://socket.io/" target="_blank" class="link-clear">
              <div class="card__header">
                <h4 class="card__headline">socket.io</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">
                  Socket.IO enables real-time, bidirectional and event-based
                  communication
                </p>
              </div></a
            >
          </li>
          <li class="card">
            <a
              href="https://github.com/mqttjs"
              target="_blank"
              class="link-clear"
            >
              <div class="card__header">
                <h4 class="card__headline">MQTT.js</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">
                  Library für das MQTT Protokoll für Node.JS
                </p>
              </div></a
            >
          </li>
          <li class="card">
            <a
              href="https://mongoosejs.com/"
              target="_blank"
              class="link-clear"
            >
              <div class="card__header">
                <h4 class="card__headline">mongoose</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">
                  MongoDB object Modeling für Node.JS
                </p>
              </div></a
            >
          </li>
        </ul>
        <h3>Frontend</h3>
        <ul class="software-list">
          <li class="card">
            <a href="https://nodejs.org/en/" target="_blank" class="link-clear">
              <div class="card__header">
                <h4 class="card__headline">Node.JS</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">Javascript Runtime für das Backend</p>
              </div></a
            >
          </li>
          <li class="card">
            <a href="https://vuejs.org/" target="_blank" class="link-clear">
              <div class="card__header">
                <h4 class="card__headline">vue.js</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">JavaScript Framework</p>
              </div></a
            >
          </li>
          <li class="card">
            <a
              href="https://bootstrap-vue.org/"
              target="_blank"
              class="link-clear"
            >
              <div class="card__header">
                <h4 class="card__headline">Bootstrap Vue</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">
                  Bootstrap implementation für vue.js
                </p>
              </div></a
            >
          </li>
          <li class="card">
            <a
              href="https://www.npmjs.com/package/vue-socket.io"
              target="_blank"
              class="link-clear"
            >
              <div class="card__header">
                <h4 class="card__headline">vue-socket.io</h4>
              </div>
              <div class="card__content">
                <p class="no-margin">
                  Socket.io integration for vue.js
                </p>
              </div></a
            >
          </li>
        </ul>
      </section>

      <section class="section" id="install">
        <h2>Installation</h2>
        <h3>Allgemeines Setup</h3>
        <ol class="doc-list">
          <li>
            <p>
              Klone das GitHub Repository:
              <a
                href="https://github.com/cd-Roid/ss20-iot-dash-button"
                target="_blank"
                >https://github.com/cd-Roid/ss20-iot-dash-button</a
              >
              und wechsle in den Ordner <span class="doc-list__highlight">ss20-iot-dash-button</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">
                  git clone https://github.com/cd-Roid/ss20-iot-dash-button.git
                </p>
                <p class="terminal__line">cd ss20-iot-dash-button</p>
              </div>
            </div>
          </li>
        </ol>
        <h3>Setup des Microcontrollers</h3>
        <ol class="doc-list">
          <li>
            <p>
              Installiere
              <a href="https://platformio.org/" target="_blank">PlatformIO</a>
              für
              <a href="https://code.visualstudio.com/" target="_blank"
                >Visual Studio Code</a
              >
              um mit dem ESP32 zu interagieren
            </p>
          </li>
          <li>
            <p>
              Navigiere zum Ordner
              <span class="doc-list__highlight">/esp32-IoT-Button</span> und
              öffne Ihn in VS Code
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">cd esp32-IoT-Button && code .</p>
              </div>
            </div>
          </li>
          <li>
            <p>
              Erstelle im Ordner
              <span class="doc-list__highlight">/src</span> die Datei
              <span class="doc-list__highlight">/credentials.h</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">/esp32-IoT-Button</div>
              <div class="terminal__input">
                <p class="terminal__line">
                  esp32-IoT-Button/<br />
                  ├── src/<br />
                  │ ├── main.cpp<br />
                  │ └── credentials.h<br />
                </p>
              </div>
            </div>
          </li>
          <li>
            <p>
              Fülle die Datei
              <span class="doc-list__highlight">/credentials.h</span>
              mit deinen WiFi Zugangsdaten, deinem MQTT Broker und der Basis
              Topic (zum Beispiel die Abteilung oder das Unternehmen).
            </p>
            <p>
              Eine Liste von öffentlichen MQTT Brokern findest du hier:
              <a
                href="https://moxd.io/2015/10/17/public-mqtt-brokers/"
                target="_blank"
                >https://moxd.io/2015/10/17/public-mqtt-brokers/</a
              >
            </p>
            <div class="terminal">
              <div class="terminal__header">credentials.h</div>
              <div class="terminal__input">
                <p class="terminal__file">
                  const char *ssid = "Network Name";<br />
                  const char *pass = "Network Password";<br />
                  const char *broker = "hivemq.dock.moxd.io"; <br />
                  String baseTopic = "BasisTopic";
                </p>
              </div>
            </div>
          </li>
          <li>
            <p>
              Installiere die Libraries
              <a
                href="https://platformio.org/lib/show/89/PubSubClient?utm_source=platformio&utm_medium=piohome"
                target="_blank"
                >PubSubClient</a
              >,
              <a
                href="https://platformio.org/lib/show/64/ArduinoJson"
                target="_blank"
                >ArduinoJSON</a
              >,
              <a
                href="https://platformio.org/lib/show/4423/Gesture%20PAJ7620"
                target="_blank"
                >Gesture PAJ7620</a
              >
              und
              <a
                href="https://platformio.org/lib/show/5355/Grove%20-%20LCD%20RGB%20Backlight"
                target="_blank"
                >Grove - LCD RGB Backlight</a
              >
            </p>
          </li>
          <li>
            <p>
              Öffne im Tab
              <span class="doc-list__highlight">Libraries</span> von PlatformIO
              den Ordner für die Library PubSubClient mit einem Klick auf
              <span class="doc-list__highlight">Reveal</span>
              <figure>
                <img src="./img/platformio-pubsub.png" />
              </figure>
            </p>
          </li>
          <li>
            <p>
              Navigiere zum Ordner
              <span class="doc-list__highlight">/PubSubClient_ID89</span> und
              öffne den Ordner
              <span class="doc-list__highlight">/src</span>
            </p>
          </li>
          <li>
            <p>
              Erhöhe nun in der Datei
              <span class="doc-list__highlight">PubSubClient.h</span> den Wert
              <span class="doc-list__highlight">MQTT_MAX_PACKET_SIZE</span> auf
              <span class="doc-list__highlight">2048</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">
                /PubSubClient_ID89/src/PubSubClient.h
              </div>
              <div class="terminal__input">
                <p class="terminal__file">
                  #define MQTT_MAX_PACKET_SIZE 2048
                </p>
              </div>
            </div>
          </li>
          <li>
            <p>
              Verbinde alle Komponenten folgendermaße mit deinem ESP32 und
              schließe Ihn dann an deinen Computer an
            </p>
            <iframe
              id="ytplayer"
              type="text/html"
              width="1200"
              height="675"
              src="https://www.youtube-nocookie.com/embed/T4lWkwNdf3w?&rel=0&modestbranding=1"
              frameborder="0"
              allowfullscreen
            ></iframe>
          </li>
          <li>
            <p>Spiele den Code nun mit Hilfe von PlatformIO auf den ESP32</p>
            <figure>
              <img src="./img/upload.png" />
            </figure>
            <p>
              Nach dem Upload ist der ESP32 einsatzbereit und wartet darauf
              mittels des Dashboards eingerichtet zu werden
            </p>
          </li>
        </ol>
        <h3>Setup des Backends</h3>
        <ol class="doc-list">
          <li>
            <p>
              Navigiere zum Ordner
              <span class="doc-list__highlight">/backend</span> und öffne Ihn in
              VS Code
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">cd backend && code .</p>
              </div>
            </div>
          </li>
          <li>
            <p>
              Erstelle im die Datei
              <span class="doc-list__highlight">.env</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">/backend</div>
              <div class="terminal__input">
                <p class="terminal__line">
                  backend/<br />
                  └─ .env<br />
                </p>
              </div>
            </div>
          </li>

          <li>
            <p>
              Fülle die Datei
              <span class="doc-list__highlight">.env</span>
              mit Zugangsdaten zu einer
              <a href="https://www.mongodb.com/de" target="_blank">mongoDB</a>,
              dem Broker und deiner Basis Topic.<p>Der Broker und die Topic
              müssen die selben sein, wie auf dem ESP32.</p>
            </p>
            <div class="terminal">
              <div class="terminal__header">.env</div>
              <div class="terminal__input">
                <p class="terminal__file">
                  MONGODB_CONNECTION = "Link zur MongoDB"<br />
                  MQTT_BROKER = hivemq.dock.moxd.io<br />
                  BASETOPIC = "BasisTopic"
                </p>
              </div>
            </div>
          </li>

          <li>
            <p>
              Installiere alle benötigten Libraries mit
              <span class="doc-list__highlight">npm i</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">npm i</p>
              </div>
            </div>
          </li>

          <li>
            <p>
              Starte das backend mit
              <span class="doc-list__highlight">npm run dev</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">npm run dev</p>
              </div>
            </div>
          </li>
        </ol>
        <h3>Setup des Frontends</h3>
        <ol class="doc-list">
          <li>
            <p>
              Navigiere zum Ordner
              <span class="doc-list__highlight">/frontend</span> und öffne Ihn
              in VS Code
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">cd frontend && code .</p>
              </div>
            </div>
          </li>

          <li>
            <p>
              Installiere alle benötigten Libraries mit
              <span class="doc-list__highlight">npm i</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">npm i</p>
              </div>
            </div>
          </li>

          <li>
            <p>
              Starte das frontend mit
              <span class="doc-list__highlight">npm run serve</span>
            </p>
            <div class="terminal">
              <div class="terminal__header">CMD</div>
              <div class="terminal__input">
                <p class="terminal__line">npm run serve</p>
              </div>
            </div>
            <p>
              Das Dashboard ist nun unter
              <a href="http://localhost:8080" target="_blank"
                >http://localhost:8080 </a
              >erreichbar
            </p>
          </li>
        </ol>
      </section>
    </main>
  </body>
</html>
